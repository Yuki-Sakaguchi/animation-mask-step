# 画像を表示するアニメーションをマスクのコマ送りで実装

https://yuki-sakaguchi.github.io/animation-mask-step/

![result](https://user-images.githubusercontent.com/16290220/127742109-06097c53-068e-4fc5-8b68-ff78bbf62601.gif)


# 解説

画像をマスクする様の画像をスプライトとして保持しておいて、keyframesのアニメーションでコマ送りをさせる  

アニメーションが終わった後にアニメーションが始まる間に戻したいときは工夫が必要。  
デモではホバーでアニメーションを実行して、ホバーが終わったら元に戻る様にしているがこれはcssのanimationだけではうまくできない。  

cssならtransitionで終わらせるか、animationを使いたいならjsでホバーを制御するのが楽っぽい  
アニメーション自体は１パターン用意して `reverse` で逆再生を再現した。  
マスクなのでbodyの背景色を白とか好きな色にすればいい感じになる. 

- クラスが何もついていないときはアニメーション前の状態
- hoverした時に `in` クラスをつけて順当なアニメーションを実行
- hoverを外した時に `in` を外すして `out` をつけてアニメーションの逆を実行
  - この際、in を外すと out のアニメーション開始の状態を維持できなかったので `end` をつけておくことにした。これたついている間は `out` の一番最初のコマの結果と同じ状態になるように設定した
